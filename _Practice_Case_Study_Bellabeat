---
title: "T#002_Practice_Case_Study_Bellabeat"
author: "Laks_Malhotra"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Capstone Case Study-Cyclistic Bike Share

This is a Case study, all the required pre-requisition data are provided by the Google's Data analytics professional certificate's 8th module.
This capstone project shall contain all the necessary code and literature associated with this project.
We will follow Google's ASK, PREPARE, PROCESS, ANALYZE, SHARE & ACT Template for the Project to keep the process streamline.


## ASK ##

This is the first step in the data analytics project in which we will identify and establish the Business task and complete the project based on that.
Following questions might help in pinpointing the primary objective of the project.

***What is the problem you are trying to solve?***
Our organization's objective is to understand the customer behavior in the market who already use the smart devices, They also want more insights on statistics associated with Fit bit Fitness user data.

***Why should stakeholder invest in Solution?***
Because, they might have a potential of becoming a big player in global smart devices market for women, using the insights from this project to develop targeted marketing strategy to improve their customer base.


***How will we achieve the solution?***

The process is divided into following 3 steps:

*What are some patterns/trends in user's behavior of smart devices?*

*How can Bellabeat use the insights from the analysis and apply them to Bellabeat customers?*

*How will the recommendations from the insights be used for a potential future marketing strategy?*


I am tasked with the first question, so this project only focus on that for now.


***How will insight drive the business decision?***

Insights generated will be based on the patterns or trends generated by the Fitbit Fitness User data, which will guide in developing a better targeted marketing strategy for Bellabeat customers.


**Business Task**

We are going to identify the statistics and summary of customer's behavior for Fitbit Fitness User Data; and apply the insights to give recommendations to improve one of the Bellabeat products in a presentation to the management.

Then we will use this information to develop a marketing campaign to target Bellabeat current and potential customers. Our job as a Junior Analyst is to clean, process, analyze and visualize the given data in pursuit of identifying patterns in different records of smart device users.


**Key Stakeholders**

**Urska Srsen:**---------------Founder & CCO.

**Sandro Mur:**---------------Co-founder & member of board of Directors

**Bellabeat Marketing Analytics Team:**------Team of Data Analysts responsible for collecting, analyzing and reporting the insights from the data to guide the organization's marketing efforts.



## PREPARE ##

### Background & Data Structure ###

**Data Sets** : Fitbit Fitness Trackers Data

**Data Source** : Data is made available by Mobius at kaggle.com. at [this Link](https://www.kaggle.com/datasets/arashnic/fitbit).

**About Data** : This open source data contains records for fitness trackes that collects data on daily user's physical activities.

**Data Format** : Wide, csv format.

**Number of Files** : 12

**file Name** : "dailyActiviy_merged.csv", "Sleepday_merged.csv", "dailyCalories_merged.csv", "Heartrate_Seconds_merged.csv", "dailyIntensites_merged.csv", WeightLoginfo.csv".

***ROCCC verification for Data***

**Reliable**: Data Source Mobius has made this data available in CCO: public domain.

**Original**: [Here's]((https://www.kaggle.com/datasets/arashnic/fitbit). the link to the data source and this is a [link](https://bellabeat.com/) to the original company website.

**Comprehensive**: Observing the data sets in Microsoft excel spreadsheet indicated that it contains required and relevant information to conduct the analysis.

**Current**: Data used for analysis is given by the customers voluntarily for one month from 12th of april to 12th of may during the year of 2016.

**Cited**: CCO: Public Domain.


We have established the credibility of our data let's move on to the processing stage


## PROCESS ##

In this stage we will clean the data in our working environment and prepare it for the analysis.



***Setting up the working environment***

For this project we are going to use R Studio with R programming language.

Let's load the required libraries:
```{r}
library(tidyverse)
library(lubridate)
library(janitor)
library(skimr)
```

Let's upload the data sets to the working environment within the specific data frames:

```{r}
dailyactivity <- read.csv("C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv")

sleepday <- read.csv("C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")

dailycalories <- read.csv("C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/dailyCalories_merged.csv")

dailyintensity <- read.csv("C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/dailyIntensities_merged.csv")

weightlog <- read.csv("C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")


```


Now, that we have uploaded our data , let's view the data in the environment

**Data wrangling and Cleaning**

```{r}
#Let's see how our data looks like:
str(dailyactivity)
str(dailycalories)
str(dailyintensity)
str(sleepday)
str(weightlog)

```
```{r}
#Now, let's see the columns attributes :
colnames(dailyactivity)
colnames(dailycalories)
colnames(dailyintensity)
colnames(sleepday)
colnames(weightlog)
```

From the previous str function we found out the "date" columns in all the datasets are in "character" format , but it should be in the correct "Datetime" format.
Every other column attributes seem to be in the respective data type.



Now, let's standaradize the format for the dataframes in the given code chunk:
```{r}
dailyactivity$ActivityDate <- as.Date(dailyactivity$ActivityDate, format = "%m/%d/%y")

dailyintensity$ActivityDay <- as.Date(dailyintensity$ActivityDay, format = "%m/%d/%y")

sleepday$SleepDay <- as.Date(sleepday$SleepDay, format = "%m/%d/%y")

dailycalories$ActivityDay <- as.Date(dailycalories$ActivityDay, format = "%m/%d/%y")

weightlog$Date <- as.Date(weightlog$Date, format = "%m/%d/%y")


```

Now, let's use function class for the data frames to check for the consistency in the "date" columns

```{r}
class(dailyactivity$ActivityDate)
class(dailycalories$ActivityDay)
class(dailyintensity$ActivityDay)
class(sleepday$SleepDay)
class(weightlog$Date)
```
If our result shows a consistent data type for the columns, then we move on to the next step.

Let's now check for missing values:
```{r}
sum(is.na(dailyactivity))
sum(is.na(sleepday))
sum(is.na(dailycalories))
sum(is.na(dailyintensity))
sum(is.na(weightlog))
```
We observe "weight log" data frame have 65 missing values.

Let's do some data transformation into a standard format for all the data frames and then use merge function to reduce the scope of analysis to the required needs:
(Also, merging will eliminate the missing values by filling the corresponding values from the other data frame)

```{r}

sleepday <- sleepday %>% 
  rename(Date = SleepDay)

dailyactivity <- dailyactivity %>% 
  rename(Date = ActivityDate)

dailyintensity <- dailyintensity %>% 
  rename(Date = ActivityDay)

ActiveSleep <- merge(sleepday, dailyactivity, by = c("Id", "Date"))

IntensityWeight <- merge(dailyintensity, weightlog, by = c("Id", "Date"))

```

Now, we have two major data frames which contains all the columns and records that we need for our analysis:
```{r}
#Let's Check them out for double checking the requirements:
glimpse(ActiveSleep)
glimpse(IntensityWeight)
```
Our dataframes are ready for analysis:

## ANALYZE ##

Let's ask the prominent questions that will guide our analysis to gain some insights:

```{r}
#What is the impact of the amount of steps done by the user and distances travelled on daily basis?

ActiveSleep %>%
  group_by(Date) %>% 
  summarise(average_daily_Steps = mean(TotalSteps), average_daily_distance_in_km = mean(VeryActiveDistance+ModeratelyActiveDistance+LightActiveDistance))

```

```{r}
#How much time the user take to travel the most distance on daily basis?
ActiveSleep %>% 
  group_by(Date) %>% 
  summarize(average_distance_travelled_in_kms = mean(VeryActiveDistance), average_time_taken_in_mins = mean(VeryActiveMinutes))
```
```{r}
#How much calories burnt by the user with the average distances travelled daily?
ActiveSleep %>% 
  group_by(Date) %>% 
  summarize(average_distance_travelled = mean(VeryActiveDistance), average_calories_burnt = mean(Calories))
```
```{r}
#How much on an average mintues the user sits with contrast to the average mintues user is active?


IntensityWeight %>% 
  group_by(Date) %>% 
  summarise(average_sitting_minutes = mean(SedentaryMinutes), average_active_minutes = mean(LightlyActiveMinutes+FairlyActiveMinutes+VeryActiveMinutes))

```
```{r}
#How much on average minutes user spends on the bed before sleeping?

ActiveSleep %>% 
  group_by(Date) %>% 
  summarize(average_mintues_in_bed = mean(TotalTimeInBed), average_minutes_slept = mean(TotalMinutesAsleep))
```
Now, that we have statistical summary of the user's general activity, let's move on to the visualizing of some poundering questions to the identify some patterns.


## VISUALIZE ##

From the previous stage of analysis, we collected some statistical insights into the user behavior, so let's now plot different categories within different columns to understand if ther exists an realtionship between variuos factors.

*1- Total Steps taken VS Total Distance travelled*
```{r}
ggplot(data = ActiveSleep)+
  geom_smooth(aes(x=TotalSteps, y=TotalDistance))+
  geom_point(aes(x=TotalSteps, y=TotalDistance))+
  labs(title = "Total Steps VS Total Distance covered")
```

*2-Total Distance VS Time taken to cover the distance*
```{r}
ggplot(data = IntensityWeight)+
  geom_point(aes(x=VeryActiveDistance, y=VeryActiveMinutes))+
  geom_smooth(aes(x=VeryActiveDistance, y=VeryActiveMinutes))+
  labs(title = "Distance VS Time", x="Distance", y="Time Taken")
```

*3-Total Distance VS Calories burnt*
```{r}
ggplot(data = ActiveSleep)+
  geom_smooth(aes(x=TotalDistance, y=Calories))+
  geom_point(aes(x=TotalDistance, y=Calories))+
  labs(title = "Total Distance covered VS Total Calories Burnt")
```

*4-Time spent sleeping VS Time spent in Bed  *

```{r}
ggplot(data = ActiveSleep)+
  geom_smooth(aes(x=TotalMinutesAsleep, y=TotalTimeInBed))+
  geom_point(aes(x=TotalMinutesAsleep, y=TotalTimeInBed))+
  labs(title = "ime spent in Bed VS Time spent sleeping")
```

Now, that we have visualized the given questions, let's identify some patterns and generate key insights:

**Key Findings and Insights:**

1-We observe a **positive correlation** between the ***total step taken*** and ***total distance travelled***, which is quiet obvious, but the density of the strong relationship reduce drastically when a user takes more than 1250 steps.


2-We observe a **strong and positive correlation** between the ***distance travelled*** and ***time taken*** up until 5 kms distance, that simply means more the distance more the time taken to complete it, also we have 3 outliers, need further investigation to understand their behavior, while for the distance between 10 to 15 kms we observe a cluster formation with positive correlation , need further investigation to understand this phenomenon.


3-We observed a **positive & strong correlation** between the ***total distance travelled*** and ***Calories burnt*** by the user which is ***spread out(within an average range of 2000 calories).***


4-We observe a **positive correlation** between ***Total time spend in the bed*** and ***total time spend sleeping*** with a strong cluster formation between 325 minutes and 550 minutes, when most of the time the users prefer to sleep.



Let's finish the sharing stage by saving the workbook files "ActiveSleep" and "IntensityWeight" in system directory:

```{r}
#Saving the workbook in the system directory
write.csv(ActiveSleep,"C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/ActiveSleep_workbook.csv", row.names = FALSE)

write.csv(IntensityWeight, "C:/Users/laksd/OneDrive/Desktop/Analytics/Datasets/fitbit_Data_for_Bellabeat/Fitabase Data 4.12.16-5.12.16/IntensityWeight_workbook", row.names = FALSE)
```


Let' establish some recommendations based on our insights in the next and final stage of this process.


## ACT ##


**Final Thought**
I'd recommend to use more bigger datasets with more records , because if we have a larger volume of data the tendency of the analysis to generate more accurate and pinpointed insights increases exponentially.

Also, we should also incluse more parameters for measures especially for women like "menstural cycle predications" and "heartrate" to understnad the stress levels.

From the analysis, one thing is clear that smart devices users can easliy track their fitness parameters for better health which could be used as a basis of our new marketing campaign to raise the awareness about Bellabeat Fitness smart devices.

For the purpose of this project, i will use "Bellabeat mobile app" in the presentation to highlight what type of data we can push to our customers through livetracking and sending them notifications based on thier performance.


**Recommendations**

1-Improve our user interface on the app by providing real-time personalized notifications to the customers, encourage them to engage more in the pysical activites like walking, running etc.

For example:
<- From the analysis, we know that the recommended minimum steps are 10,000 so whenver the user lags fromt the minimum threshold , we send them a popup notification or we can introduce a customizable daily goal trackers for the customers.

<- We can also provide real-time sleeplog activities highlighting and recording the sleep quality, number of timer woke up in night, total amount of awake time in the bed, anxiety & stress levels.

2-We can extend our service domain by providing in-app service for better sleep or focus & concentration or meditation. This could be a lucrative option as we will have a one-stop health app for our customers.


3-We can also provide discounts on our other Bellabeat products and services by in-app advertisement.



***Based on my analysis report, these were some specific recommendations which can help Bellabeat improve the current marketing strategy and generate revenue.***

With this, i conclude my Case study on Bellabeat Data Analytics Report!









